<app-page-heading heading="{{userName}}">
</app-page-heading>
<div class="split-content">

<app-content-block *ngIf="user" heading="User information">
    <form [formGroup]="userForm">
      <app-input-item  class="form-item"
        label="Name"
        placeholder="Enter name"
        [formGroup]="userForm"
        formControlName="Firstname">
      </app-input-item>
      <app-input-item  class="form-item"
        label="Surname"
        placeholder="Enter surname"
        [formGroup]="userForm"
        formControlName="Lastname">
      </app-input-item>
      <app-input-item class="form-item"
        label="Email"
        placeholder="Enter email"
        [formGroup]="userForm"
        formControlName="Email">
      </app-input-item>
  </form>
  </app-content-block>
<form [formGroup]="form">
<app-content-block heading="User roles">
  <div class="check-list" [formArrayName]="'items'" [class.invalid]="!form.controls.selectedItems.valid">
    <div class="checkboxes-item" *ngFor="let control of form.controls.items.controls; let i = index;" [formGroup]="control">
      <label class="label-name">{{ control.controls.text.value }}</label>
      <div class="checkboxes-modal">
      <input class="checkall" type="checkbox" formControlName="checkbox" id="{{ control.controls.id.value }}">
      <label [class.checked]="checked" attr.for={{control.controls.id.value}}>
        <ng-container *ngIf="checked">
          Select{{ labelTrue }}
        </ng-container>
        <ng-container *ngIf="!checked">
          Select{{ labelFalse }}
        </ng-container>
      </label>
      </div>
    </div>
  </div>
 <app-input-item-error-message
       *ngIf="!form.controls.selectedItems.valid"
        [errors]="form.controls.selectedItems.errors"
  ></app-input-item-error-message>
  </app-content-block>
</form>
</div>

<app-form-action-bar>
  <div *ngIf="userId">
    <button *ngIf="buttonName" class="btn deactive" [disabled]="loading" (click)="showDeactivateConfirm = true">
      {{buttonName}}</button>
    <button type="button" class="btn submit" (click)="saveUser()">
      Submit</button>
  </div>
</app-form-action-bar>
<app-confirm *ngIf="showDeactivateConfirm" 
  heading="Are you sure you want {{buttonName}} this user?" 
  (onReject)="closeDeactivateConfirm()"
  (onConfirm)="deactivateUser()">
</app-confirm>